<input id='tvId' type="hidden" name="tvId" value="{{tv.Id}}">

<h1 class="text-center">{{tv.name}}</h1>

<div class="player-wrapper">
    <div id='player-overlay' class="d-flex justify-content-center align-items-center d-none">
        <div>
            <h3> –ù–µ —É—Å–ø—è—Ö–º–µ –¥–∞ –∑–∞—Ä–µ–¥–∏–º —Ç–æ–≤–∞ –≤–∏–¥–µ–æ</h3>
        </div>
    </div>
    <div id="player"></div>


</div>

<hr>

<div class="col-sm-12 mx-auto mt-3 d-none d-lg-flex justify-content-center">
    <input class="w-50 mx-auto" type="text" name="tvName"
        placeholder="–û—Å—Ç–∞–≤–µ—Ç–µ –ø—Ä–∞–∑–Ω–æ –∞–∫–æ —Ç–æ–≤–∞ –µ –Ω–µ –µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ">
</div>

<hr>

<div>
    <h1 class="text-center">–£–ü–†–ê–í–õ–ï–ù–ò–ï</h1>
    <div class="fs-4 text-center">
        –ü–æ–∑–∏—Ü–∏—è –Ω–∞ –≤–∏–¥–µ–æ:<span id='video-position'></span>
    </div>
    <div id="controls-row" class="row mt-3">
        <div class="col-md-4 col-sm-12 d-flex justify-content-evenly">
            <button class="btn btn-dark" onclick="ButtonControllClick(this)" data-action='LoadFirst'>
                <span>–ü—ä—Ä–≤–∏</span>
                <br>
                <i class="bi bi-skip-start"></i>
            </button>
            <button class="btn btn-dark" onclick="ButtonControllClick(this)" data-action='LoadPrevious'>
                <span>–ù–∞–∑–∞–¥</span>
                <div class="flip-x">
                    <i class="bi bi-forward"></i>
                </div>

            </button>
        </div>
        <div class="col-md-4 col-sm-12  d-flex justify-content-evenly">


            <button class="btn btn-dark me-2" onclick="ButtonControllClick(this)" data-action='DownVolume'>
                <span>–ù–∞–º–∞–ª–∏ –∑–≤—É–∫ </span>
                <br> <i class="bi bi-volume-down"></i></button>


            <button id='PlayerStateToogler' class="btn btn-dark" onclick="ButtonControllClick(this)"
                data-action='TooglePlayerState'>
                <span>–°—Ç–∞—Ä—Ç</span>
                <br>
                <i class="bi bi-pause-btn d-none"></i>
                <i class="bi bi-play-btn "></i>
            </button>

            <button class="btn btn-dark ms-2" onclick="ButtonControllClick(this)" data-action='UpVolume'>
                <span>–£–≤–µ–ª–∏—á–∏ –∑–≤—É–∫</span>
                <br> <i class="bi bi-volume-up"></i></button>



        </div>
        <div class="col-md-4 col-sm-12  d-flex justify-content-evenly">
            <button class="btn btn-dark" onclick="ButtonControllClick(this)" data-action='LoadNext'>
                <span>–ù–∞–ø—Ä–µ–¥</span>
                <br> <i class="bi bi-forward"></i></button>
            <button class="btn btn-dark" onclick="ButtonControllClick(this)" data-action='LoadNewest'>
                <span>–ù–æ–≤</span>
                <br> <i class="bi bi-skip-end"></i></button>
        </div>

        <div class="col-sm-12 d-flex justify-content-evenly">
            <button id="ToogleMuteButton" class="btn btn-dark w-100" onclick="ButtonControllClick(this)"
                data-action='ToogleMute'>
                <span>–ò–∑–∫–ª—é—á–∏ –∑–≤—É–∫</span>
                <br>
                <span class="d-none">üîä</span>
                <span>üîá</span>
            </button>
        </div>

        <div class="col-sm-6 d-flex justify-content-evenly">
            <button id="RefreshPageButton" class="btn btn-dark w-100" onclick="ButtonControllClick(this)"
                data-action='RefreshPage'>
                <span>–ü–æ–¥–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞</span>
                <br>
                <div class="bi bi-arrow-clockwise d-block"></div>
            </button>
        </div>

        <div class="col-sm-6 d-flex justify-content-evenly">
            <button id="GetStatesButton" class="btn btn-dark w-100" onclick="ButtonControllClick(this)"
                data-action='GetStates'>
                <span>–ü–æ–ª—É—á–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è</span>
                <br>
                <i class="bi bi-arrow-down-circle"></i>
            </button>
        </div>

    </div>
    <div class="col-sm-12" id='StatesReults'>

    </div>
</div>

{{{{Raw}}}}
<script id='tv-state-cards' type="text/x-handlebars-template">
{{#each states}}
{{log this}}
       <div class="col-sm-6 col-md-4 col-lg-3 mt-2 h-fit" >
           <div class="card">
            <img src="https://img.youtube.com/vi/{{this.CurrentVideoID}}/hqdefault.jpg" loading="lazy" class="card-img-top w-100" alt="Preview">
                <div class="card-body h-fit">
                  <div class="card-title">–ï–∫—Ä–∞–Ω: {{this.Name}}</div>

                  <div>–°–∏–ª–∞ –Ω–∞ –∑–≤—É–∫ –µ {{Volume}} –∏ —Ç–æ–π –µ {{#if IsMuted}}–∏–∑–∫–ª—é—á–µ–Ω{{else}}–≤–∫–ª—é—á–µ–Ω{{/if}}.</div>
                  <div>–ü–æ–∫–∞–∑–≤–∞ —Å–µ {{CurrentVideoPosition}} –≤ –æ–ø–∞—à–∫–∞—Ç–∞ –∏ —Ç–æ e {{PlayerStateToText PlayerState}} –Ω–∞ {{Seconds}} —Å–µ–∫—É–Ω–¥–∞.</div>

                </div>
           </div> 
        </div>
{{/each}}
</script>
{{{{/Raw}}}}